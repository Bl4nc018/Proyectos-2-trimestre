openapi: "3.0.0"
info:
  version: 1.0.0
  title: AirPeekAPI
servers:
  - url: http://localhost:8000
tags:
  - name: Login
    description: Login to the app
  - name: Register
    description: Register a new user
  - name: Flights
    description: Get all flights
paths:
  /login:
    post:
      tags:
        - Login
      summary: Logs user into the system
      operationId: loginUser
      parameters:
        - name: email
          in: query
          required: true
          description: The email of the user
          schema:
            type: string 
        - name: password
          in: query
          required: true
          description: The password of the user
          schema:
            type: string 
      responses:
        200:
          description: Email exists and password is correct
          content:
            application/json:    
              schema:
                example:
<<<<<<< HEAD
                  - token: 19273348274832
        404:
        description: The email doesn't exist
        content:
          application/json:
            schema:
          example:
            - token: Email already registered
        401:
        description: The email is not valid
        content:
          application/json:
            schema:
          example:
            - token: Invalid email
        401:
        description: The password is not valid
        content:
          application/json:
            schema:
          example:
            - token: Invalid password
=======
                  token: 19273348274832
        404:
          description: The email doesn't exist
          content:
            application/json:
              schema:
                example:
                  token: Email already registered
        401:
          description: The email or the password are not valid
          content:
            application/json:
              schema:
                example:
                  token: Invalid email or password
>>>>>>> e8f37c1ae1f9b2cd2cd36c5a3b286101403456f8
  /register:
    post:
      tags:
        - User
      summary: Register a new user
      parameters:
        - name: name
          in: query
          required: true
          description: The full name of the user
          schema:
            type: string
        - name: email
          in: query
          required: true
          description: The email of the user
          schema:
            type: string
          example: "matusalen@fpcoruna.afundacion.org"
        - name: country
          in: query
          required: true
          description: The user's home country
          schema:
            type: string
<<<<<<< HEAD
          example: "Espa�a"
=======
          example: "España"
>>>>>>> e8f37c1ae1f9b2cd2cd36c5a3b286101403456f8
        - name: password
          in: query
          required: true
          description: The user's password
          schema:
            type: string
        - name: birthdate
          in: query
          required: true
          description: The user's birthdate
          schema:
            type: string
          example: "2001/03/24"
      responses:
        200:
          description: User registered
          content:
            application/json:    
              schema:
                example:
                  register: ok
        400:
          description: Any parameter is not valid
          content:
            application/json:    
              schema:
                example:
                  register: not_ok
  /flights:
    get:
      tags:
        - Flights
      summary: Get all flights
      description: Returns a list of all flights
      responses:
        200:
          description: A list of flights
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                    origin:
                      type: string
                    destination:
                      type: string
                    depart_date:
                      type: string
                      format: date-time
                    return_date:
                      type: string
                      format: date-time
                    value:
                      type: number
                    number_of_changes:
                      type: integer
        404:
          description: No flights found
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string